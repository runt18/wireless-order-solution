<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport"
	content="width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1">
<title>自助点餐</title>
<link rel="stylesheet" href="./css/base.css">
<link rel="stylesheet" href="./css/food.css">
<link type="text/css" rel="stylesheet" href="./css/mbar.css">
<link type="text/css" rel="stylesheet"
	href="./css/general_foundicons.css">
<script type="text/javascript" src="../../jquery/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="./js/Util.js"></script>
<script type="text/javascript" src="./js/idangerous.swiper-2.4.2.min.js"></script>
<script type="text/javascript">
	var params = {
		foodData : [],
		orderData : [],
		dataSource : 'normal',
		isPaging : false,//默认不分页
		start : 0,
		limit : 10,
		kitchenData : {},
		kitchenId : -1,
		DNSC : 'divNavKitchen-item-select'
	};
	var shopCartInit = false;
	//购物车菜品总信息和下导航栏总高度 && 购物车每行菜品高度
	var generalHeight = 87, foodHeight = 51;
	//网页可见高度
	var htmlHeight;
	
	var isTakeout = false, to={};
	
	if(Util.mp.extra && Util.mp.extra==3){
		isTakeout = true;
		to={
				useNewAddress : false,
				defaultAddress : '',
				member : {},
				customerContects : []
		};		
	}
</script>
<script type="text/javascript" src="./js/food/load.js"></script>
<script type="text/javascript" src="./js/food/main.js"></script>

<style type="text/css">
.panel {
	position: absolute;
	top: -1px;
	bottom: 45px;
	left: 0;
	width: 80px;
	background-color: #333;
	/*FIXME*/
	overflow-y: auto;
	/*   -webkit-transform: translate3d(-120px, 0, 0);
  transform: translate3d(-120px, 0, 0); */
}

.nav-aside {
	line-height: 40px;
}

.nav-aside li {
	border-bottom: 1px solid #222;
	color: #fff;
}

.nav-aside li a {
	color: #fff;
	padding: 0 5px;
	display: block;
	font-weight: bold;
	font-size: 15px;
}

.li-k-title {
	line-height: 35px;
	border-bottom: 2px solid #fb7251 !important;
	text-align: center;
	font-size: 15px;
	font-weight: bold;
}

.sale-food-list {
	width: 140px;
	background-size: 100%;
	float: left;
	margin-left: 5px;
	position: relative;
}

.sale-food-border {
	width: 50px;
	height: 25px;
	position: absolute;
	right: 20px;
	bottom: 8px;
	font-size: 25px;
	color: firebrick;
	/* 	margin-bottom: 10px; */
}

.sale-food-sorder {
	/*	width: 25px;
	height: 15px;
	position: absolute;
	right: 25px;
	bottom: 5px;
	font-size: 15px;
	color: firebrick;
 	margin-bottom: 10px; */
	float: right;
	margin-top: 48px;
}

.sale-food-sorder>input {
	font-size: 12px;
}

.star-kitchen-name {
	color: red !important;
	font-size: 18px !important;
}

</style>
</head>
<body>

	<div id="divNavKitchen" class="box-horizontal">
		<div id="divNavKitchen-kitchen">
			<div data-r="title" class="div-l-n-title" data-value="-1"
				onclick="filtersFood(this)">全部</div>
			<div data-r="body"></div>
		</div>
		<div id="divNavKitchen-mask" class="div-full"></div>
	</div>

	<!-- 购物车列表 -->
	<div id="divShoppingCart" class="box-vertical">
		<div id="divFoodListForSC">
			<!-- 
		<div class="div-fl-f-sc-box box-horizontal">
			<div data-type="msg" class="div-full">
				<div>上汤菜心</div>
				<div>价格:8888.88</div>
			</div>
			<div data-type="cut">-</div>
			<div data-type="add">+</div>
			<div data-type="count">88</div>
		</div>
		-->
		</div>
		<div id="divSumForSC">
			菜品数量:&nbsp;<span id="spanSumCountForSC">--.--</span> &nbsp;&nbsp;
			合计:&nbsp;<span id="spanSumPriceForSC">--.--</span>
		</div>
		<div id="divButtonForSC" class="hewarp">
			<ul>
				<li style="width: 33.33%"><a
					href="javascript:operateFood({otype:'claer'});"> <i
						class="foundicon-remove fcolor1"></i>清&nbsp;空
				</a></li>
				<li style="width: 33.33%"><a
					href="javascript:orderOrTakeout(isTakeout);">
						<i class="foundicon-checkmark fcolor2"></i>选好了
				</a></li>
				<li style="width: 33.33%"><a
					href="javascript:operateShoppingCart({otype:'hide'});">
						<i class="foundicon-left-arrow fcolor3"></i>返&nbsp;回
				</a></li>
			</ul>
		</div>
	</div>

	<!-- 外卖信息 -->
	<div id="divTakeout">
		<div id="divTakeoutDetailBox" style="height: 460px;overflow-y:auto;">
		<div class="takeoutDetail">
			<p>送餐信息:</p>
			<div id="divAddressList" class="takeout_address" align="center">
<!-- 				<div class="takeout_address_added takeout_address_unselect" onclick="selectAddress(this)">
					<div class="added_left">
						<div style="float: left;width: 50%">收货人 : 鸣人</div>
						<div style="float: right;width: 50%">13533464033</div>
						<div >地址: 天河区大观南路晨晖商务大厦A301</div>
					</div>
					<div class="added_right">
						<i class="foundicon-checkmark"></i>
					</div>
				</div>
				
				<div class="takeout_address_added takeout_address_unselect"  onclick="selectAddress(this)">
					<div class="added_left">
						<div style="float: left;width: 50%">收货人 : 鸣人</div>
						<div style="float: right;width: 50%">13533464033</div>
						<div >地址: 天河区大观南路晨晖商务大厦A301</div>
					</div>
					<div class="added_right">
						<i class="foundicon-checkmark"></i>
					</div>
				</div>
				
				<div class="takeout_address_added takeout_address_unselect"  onclick="selectAddress(this)">
					<div class="added_left">
						<div style="float: left;width: 50%">收货人 : 鸣人</div>
						<div style="float: right;width: 50%">13533464033</div>
						<div >地址: 天河区大观南路晨晖商务大厦A301</div>
					</div>
					<div class="added_right">
						<i class="foundicon-checkmark"></i>
					</div>
				</div>			
				
				<div align="right" class="takeout_other_address"><span onclick="showOtherAddress({event:this, otype:'other'})">→使用其他地址</span> </div>
				<div align="right" class="takeout_other_address takeout_address_hidden"><span onclick="showOtherAddress({event:this, otype:'new'})">→填写新的地址</span> </div> -->
			</div>
			<!-- 手动地址 -->
			<div id="divNewAddress4TO" class="takeout_address" align="center">
				<table >
					<tr>
						<td>姓名:</td><td><input id="to_name" type="text" style="width:80px;"></td>
						<td>&nbsp;&nbsp;电话:</td><td><input id="to_phone" type="number" placeholder="必填" style="width:100%;"></td>
					</tr>
					<tr>
						<td>地址:</td><td colspan="3"><input id="to_address" placeholder="必填" type="text" style="width:100%;"></td>
					</tr>
				</table>
			</div>			
			<p>支付方式:</p>
			<div id="divPayment4TO" class="takeout_payment">
				<div >
					货到付款 <input type="radio" checked="checked">
				</div>
			</div>
			<p>菜品信息:</p>
			<div id="divSumForTO" class="takeout_foodGeneral">
				菜品数量:&nbsp;<span id="spanSumCountForTO">0</span> &nbsp;&nbsp;
				合计:&nbsp;<span id="spanSumPriceForTO">0.00</span>
			</div>
			<div id="divFoodListForTO" class="div-full" style="height: auto;"></div>
			
		</div>
		</div>
		<div id="divButtonForTO" class="hewarp takeout_operate" >
			<ul>
				<li style="width: 50%"><a
					href="javascript:to.takeoutCommit();">
						<i class="foundicon-checkmark fcolor2"></i>下&nbsp;单
				</a></li>
				<li style="width: 50%"><a
					href="javascript:operateShoppingCart({event:this, otype:'hide', takeout:true});">
						<i class="foundicon-left-arrow fcolor3"></i>返&nbsp;回
				</a></li>
			</ul>
		</div>

	</div>


	<!-- 厨房列表 -->
	<div id="divMainView" class="box-vertical">
		<section class="panel" id="panelNav">
			<ul class="nav-aside" id="ulKitchenList">
				<li class="li-k-title"><a href="#">全部厨房</a></li>
			</ul>
		</section>

		<div id="divFoodList" class="div-full" style="margin-left: 80px;">
			<!-- 
			<div class="box-horizontal box-food-list">
				<div data-r="l">
					<div style="background-image: url(../title-image.jpg);"></div>
				</div>
				<div data-r="c" class="box-food-list-c">
					<div data-r="t"><b>上汤菜心</b></div>
					<div data-r="m">价格: <span>￥8888.88</span></div>
					<div data-r="b">积分: <font>8888.88</font></div>
				</div>
				<div data-r="r" class="box-horizontal box-food-list-r">
					<div data-r="l">8</div>
					<div data-r="r">+</div>
				</div>
			</div>
		 -->
			<!-- <div id="divOperateFoodPaging" onclick="loadFoodPaging()">&nbsp;</div> -->
			<div id="divOperateFoodPaging">&nbsp;</div>
		</div>

		<div id="divBottomNav" class="hewarp">
			<ul class="swiper-wrapper">
				<li class="index swiper-slide"><a
					href="javascript:Util.skip('index.html');"> <i
						class="foundicon-home fcolor6"></i>首&nbsp;页
				</a></li>
				<li class="user swiper-slide">
					<a id="foodOrderList" href="javascript:linkToOrders();"> 
						<i class="foundicon-star fcolor1"></i><font id="food_order">我的订单</font>
					</a>
				</li>
				<li class="special swiper-slide"><a
					href="javascript:operateShoppingCart({event:this, otype:'show'});"
					title="购物车"> <i class="foundicon-cart fcolor2"><div
								id="spanDisplayFoodCount"></div></i>购物车
				</a></li>
				<li class="user swiper-slide"><a
					href="javascript:window.location.reload();" title="刷新"> <i
						class="foundicon-refresh fcolor3"></i>刷&nbsp;新
				</a></li>
				<li class="special swiper-slide">
					<!-- 				<a href="javascript:Util.skip('rfood.html');" title="特色菜品">
				<i class="foundicon-heart fcolor2"></i>特色菜品
				</a> -->
				</li>
				<!-- 			<li class="user swiper-slide">
				<a href="javascript:Util.skip('member.html');" title="会员中心"> 
				<i class="foundicon-user fcolor3"></i>会员中心
				</a>
			</li>
 			<li class="order swiper-slide">
				<a href="javascript:operateKitchenSearch({event:this, otype:'show'});" title="分厨">
				<i class="foundicon-search fcolor5"></i>分&nbsp;类
				</a>
			</li> -->

			</ul>
		</div>
	</div>

	<script>
		var navBottomSwiper = new Swiper('#divBottomNav', {
			paginationClickable : true,
			slidesPerView : 'auto',
			disableAutoResize : true
		});
		var li = $('#divBottomNav li');
		var tw = $('#divBottomNav').width();
		tw = li.length > 4 ? parseInt(tw / 4) : parseInt(tw / li.length);
		for (var i = 0; i < li.length; i++) {
			li[i].style.width = tw + 'px';
		}
	</script>

	<div id="divFoodShowAbout">
		<div data-region="img" class="d-fsa-img">
			<div data-type="img" style="position: relative;">
				<div class="recommend-food-detail">
					&nbsp;<span id="recommendFoodName" data-type="n">菜名</span> <span
						id="recommendFoodPrice" data-type="p"
						style="margin-right: 5px; float: right; color: #ff6600">￥88</span>
				</div>
				<div class="recommend-food-order"
					onclick="saleOrderFood({otype:'order', id:46712, event:this})">下单</div>
				<!-- <span class="sale-food-border" ><input type="button" value="下单" style="font-size: 17px;"> </span> -->
			</div>
		</div>
		<div data-region=desc class="d-fsa-desc">暂无简介</div>
		<!-- 	<div  class="d-fsa-desc">点了这个菜的客人还点了:</div>

	<div style="height:100px;overflow-x:auto;overflow-y:hidden;background-color: white;">
	    <div style="width:9999px;">
	        <div class="sale-food-list" style="background-image: url(http://digie-image-test.oss.aliyuncs.com/FoodImage/40/20141009094809909.jpg) ;">
				<div style="height: 20px;background-color: rgba(0, 0, 0, 0.198039);width: 100%;padding-top: 3px;color: white;">波斯卡特葡萄酒<span style="margin-right: 5px;float: right;color: #ff6600">￥238</span></div>
				<span class="sale-food-sorder" ><input type="button" value="下单" onclick="saleOrderFood({otype:'order', id:12919, event:this})"> </span>      	
	        </div>
	        <div class="sale-food-list" style="background-image: url(http://digie-image-test.oss.aliyuncs.com/FoodImage/40/20141009094840176.jpg) ;">
				<div style="height: 20px;background-color: rgba(0, 0, 0, 0.198039);width: 100%;padding-top: 3px;color: white;">波斯卡特葡萄酒<span style="margin-right: 5px;float: right;color: #ff6600">￥238</span></div>
				<span class="sale-food-sorder" ><input type="button" value="下单√" onclick="saleOrderFood({otype:'order', id:25537, event:this})"> </span>      	
	        </div>
	    </div>	
	</div> -->
		<div data-region="mask" class="d-fsa-mask div-full"
			onclick="foodShowAbout({event:this, otype:'hide'})"></div>
	</div>

</body>
</html>