<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>触摸屏点菜端</title>
<link rel="stylesheet" href="./css/base.css">
<link rel="stylesheet" href="./css/userLogin.css">
<link rel="stylesheet" href="./css/tableSelect.css">
<link rel="stylesheet" href="./css/updateOrder.css">
<link rel="stylesheet" href="./css/createOrder.css">
<script type="text/javascript" src="../jquery/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../js/components/Encrypt.js"></script>
<script type="text/javascript" src="../js/components/md5.js"></script>
<script type="text/javascript" src="./js/Util.js"></script>

<script type="text/javascript">
var request = new URLParaQuery();
var pin = request['pin'], restaurantID = request['restaurantID'];
var staffData = {staffID:0, staffName:''};
var foodData = {}, kitchenFoodData = {}, kitchenData = {}, deptData = {root:[]}, tasteData = {};
function getDom(id){
	return document.getElementById(id);
}
//餐桌选择包,tt：转台, rn: 区域
var ts = {
	table : {},
	rn : {},
	tt : {}	
}
//下单操作包
var co = {
	table : {},
	newFood : [],
	ot : {
		newTaste : []
	}
};
//查看和修改账单操作包,cf为cancelFood缩写
var uo = {
	order : {},
	table : {},
	updateOrder : [],
	cf : {}
}
</script>
<!-- <script type="text/javascript" src="./js/tableSelect/tsLoad.js"></script>
<script type="text/javascript" src="./js/tableSelect/tsMain.js"></script>
<script type="text/javascript" src="./js/updateOrder/uoLoad.js"></script>
<script type="text/javascript" src="./js/updateOrder/uoMain.js"></script> -->
<script type="text/javascript" src="./js/index.js"></script>
</head>
<body>

<div class="content content-box-base" style="z-index:9990;">&nbsp;</div>

<div id="divUserLogin" class="box-horizontal content-box-base">
	<div class="box-vertical" style="width: 330px;">
		<div id="divAllStaffForUserLogin" style="-webkit-box-flex: 1; overflow-y: auto;"></div>
		<div></div>
	</div>
	<div class="box-vertical" style="-webkit-box-flex: 1;">
		<div style="color: #FFF; font-weight: bold; font-size: 28px;">
			<div style="line-height: 60px; height: 60px;">
				员工:<span id="spanStaffNameDisplay">----</span>
			</div>
			<div style="line-height: 50px; height: 50px;">
				密码:<input id="txtStaffLoginPwd" type="password" style="width: 150px; height: 50px; background: yellow; font-weight: bold; font-size: 28px;">
			</div>
		</div>
		<div id="divKeyBoyForUserLogin" style="margin-top: 20px; -webkit-box-flex: 1;">
			<div class="button-base" onClick="setValueToPwd({value:7})">7</div>
			<div class="button-base" onClick="setValueToPwd({value:8})">8</div>
			<div class="button-base" onClick="setValueToPwd({value:9})">9</div>
			<div class="button-base" onClick="setValueToPwd({value:4})">4</div>
			<div class="button-base" onClick="setValueToPwd({value:5})">5</div>
			<div class="button-base" onClick="setValueToPwd({value:6})">6</div>
			<div class="button-base" onClick="setValueToPwd({value:1})">1</div>
			<div class="button-base" onClick="setValueToPwd({value:2})">2</div>
			<div class="button-base" onClick="setValueToPwd({value:3})">3</div>
			<div class="button-base" onClick="setValueToPwd({value:0})">0</div>
			<div class="button-base" onClick="setValueToPwd({type:1})">&laquo;</div>
			<div class="button-base" onClick="setValueToPwd({type:2})">&laquo;&laquo;</div>
		</div>
		<div class="button-base" style="line-height: 60px; width: 100%;" onClick="staffLoginHandler({refresh:true})">
			登陆
		</div>
	</div>
</div>

<div  id = "divTableSelect" class = "content box-vertical">
	<div id="divMainForTableSelect" class = "box-horizontal">
		<div id="divTableShowForSelect"></div>
		<div id="divToolRightForSelect" class="box-vertical" style = "line-height: 60px;">
			<div  id = "divAllStatus" class="button-base" style="margin-bottom: 2px;" onclick="showStatus()">全部状态	</div>
			<div id = "divStatus" style =  " display: none; margin-bottom: 2px;">
					<div class="button-base" id = "freeForTableSelect" style = "margin-bottom: 2px; background-color: #F1C40D">空闲</div>
					<div class="button-base" id = "busyForTableSelect" style = "margin-bottom: 2px; background-color: #F1C40D">就餐</div>
			</div>
			<div class="button-base" id = "divAllArea" style="margin-bottom: 2px;" onclick="addTables('allTable')">全部区域</div>
			<div id="divShowRegion"></div>
			<div class="div-full">&nbsp;</div>
			<div class="button-base" style="margin-bottom: 2px;" onclick = "ts.rn.prePage()">上翻</div>
			<div class="button-base" style="margin-bottom: 2px;" onclick = "ts.rn.nextPage()">下翻</div>
		</div>
	</div>
  	<div id="divDescForTableSelect" class="box-horizontal" style=" border-bottom: 1px solid #FFF; border-top: 1px solid #FFF; line-height: 25px; background: #FFD700;">
  		<div id="divDescForTableSelect-padding-msg" style="-webkit-box-flex: 1; text-align: right; font-weight: bold;"></div>
  	</div>
	<div id="divToolBottomForSelect" class="box-horizontal">
	    <div class="button-base" style="margin-right: 2px;" onClick="initStaffContent()">注销</div>
	    <div class="div-full"></div>
	    <div class="button-base" style="margin-right: 2px;" onclick = "createOrderForTS()">点菜</div>
  		<div class="button-base" style="margin-right: 2px;" onclick = "transTableForTS()">转台</div>
	    <div class="button-base" style="margin-right: 2px;" onclick="ts.tp.getFirstPage()">首页</div>
		<div class="button-base" style="margin-right: 2px;" onclick="ts.tp.getPreviousPage()">上一页</div>
		<div class="button-base" style="margin-right: 2px;" onclick="ts.tp.getNextPage()">下一页</div>
		<div class="button-base" style="margin-right: 2px;" onclick="ts.tp.getLastPage()">尾页</div>		
	</div>
	<div id="divFootForTableSelect" class="box-horizontal">
		<div style="margin: 0 10px">收银员：<span id="spanStaffNameForDisplayToTS"></span></div>	
		<div class="div-full"></div>
		<div id = "spanPageNowTS" style = "margin-right: 0px;"></div>
		<div id = "spanAllPageTS" style= "margin-right: 120px;"></div>
	</div>
</div>

<div id="divUpdateOrder" class="box-vertical content">
	<div id = "divNorthForUpdateOrder">
	</div>
	<div id = "divCenterForUpdateOrder">
		<table id = "tabForUpdateOrder"></table>
	</div>
	<div id = "divDescForUpdateOrder" class = "box-horizontal" style = "background: #FFD700;">
	</div>
	<div id = "divSouthForUpdateOrder" class="box-horizontal">
		<div class="button-base" style="margin-left: 2px;" onClick= "cancelForUO()">返回</div>
  		<div class="div-full">&nbsp;</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "sureForUO()">确认修改</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "showdivKeyboardPeopleForUO()">人数</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "goToCreateOrder()">点菜</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "tempPayForUO()">暂结</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "Util.scroll({otype: 'up', content: 'divCenterForUpdateOrder', size: 80})">上翻</div>
  		<div class="button-base" style="margin-left: 2px;" onclick = "Util.scroll({otype: 'down', content: 'divCenterForUpdateOrder', size: 80})">下翻</div>
	</div>
</div>

<div id="divCreateOrder" class="box-vertical content">
	<div id="divNorthForCreateOrder" class="box-horizontal" style="margin-right: 2px;">
    	<div style="width: 218px; margin-right: 2px;">
    		<div id="divNFCOTableBasicMsg" class="button-base" style="line-height: 30px; height: 60px; background: #FFD700; ">
    			<div>888</div>
    			<div>一路发</div>
    		</div>
    		<div class="button-base" style="line-height: 60px; height: 60px; margin-top: 1px;">
    			已点菜
    		</div>
		</div>
		<div class="div-full" style="">
			<div id="divSelectDeptForOrder" class="box-horizontal" style=""> </div>
			<div id="divSelectKitchenForOrder" class="box-horizontal" style=""> </div>
		</div>
  	</div>
  	<div id="divCenterForCreateOrde" class="box-horizontal" style="">
  		<div id="divCFCONewFood" style=""> </div>
    	<div id="divCFCOHandler" style="">
	      	<div class="button-base" onClick="co.addFood()" style="">数量+1</div>
	      	<div class="button-base" onClick="co.cutFood()">数量-1</div>
	      	<div class="button-base" onClick="co.deleteFood()">删除</div>
	      	<div class="button-base" onClick="co.ot.show()">口味</div>
	      	<!-- <div class="button-base" >催菜</div> -->
	      	<div class="button-base" onClick="co.foodHangup({type:2})">叫起</div>
	      	<div class="button-base" onClick="co.foodHangup({type:1})">全单叫起</div>
    	</div>
    	<div id="divCFCOAllFood" class="div-full" style="overflow-y: auto;"></div>
  	</div>
  	<div id="divDescForCreateOrde" class="box-horizontal" style="">
  		<div style="width: 300px;">&nbsp;</div>
  		<div id="divDescForCreateOrde-padding-msg" style="-webkit-box-flex: 1; "></div>
  	</div>
  	<div id="divSouthForCreateOrde" class="box-horizontal" style="">
  		<div class="button-base" style="margin-right: 2px;" onClick="co.back()">返回</div>
  		<div class="button-base" style="margin-right: 2px;" onClick="Util.scroll({otype:'up', content:'divCFCONewFood', size:80})">上翻</div>
  		<div class="button-base" style="margin-right: 2px;" onClick="Util.scroll({otype:'down', content:'divCFCONewFood', size:80})">下翻</div>
  		<div class="div-full">&nbsp;</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.submit()">下单</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.fp.getFirstPage()">首页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.fp.getPreviousPage()">上一页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.fp.getNextPage()">下一页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.fp.getLastPage()">尾页</div>
  	</div>
</div>

<div id = "divSelectTableNumForTs" class="content-box-base">
	<div id = "divTopForSelectTableNumTS"></div>
	<div id = "divMainForSelectTableNumTS">
		<div id = "divLeftForSelectTableNumTS">
			<span style = "font-size: 25px; font-weight: bold; margin-left: 5px;">桌号：</span>
			<input type = "text" id = "txtTableNumForTS"  class = "table-number" style = "background: #FFD700;"/>
			<div class="button-base" onclick = "inputNum(this)">7</div>
			<div class="button-base" onclick = "inputNum(this)">8</div>
			<div class="button-base" onclick = "inputNum(this)">9</div>
			<div class="button-base" onclick = "inputNum(this)">4</div>
			<div class="button-base" onclick = "inputNum(this)">5</div>
			<div class="button-base" onclick = "inputNum(this)">6</div>
			<div class="button-base" onclick = "inputNum(this)">1</div>
			<div class="button-base" onclick = "inputNum(this)">2</div>
			<div class="button-base" onclick = "inputNum(this)">3</div>
			<div class="button-base" onclick = "inputNum(this)" style = "width: 164px;">0</div>
			<div class="button-base" onclick = "inputNum(this)">00</div>
		</div>
		<div id = "divRightForSelectTableNumTS">
			<div class="button-base" style = "margin-top: 1px;" onclick = "ts.backOne()">&lt;--</div>
			<div class="button-base" onclick = "ts.backAll()">&lt;&lt;</div>
			<div class="button-base" id = "btnCloseForSelectTableNumTS">关闭</div>
			<div class="button-base" id = "btnSubmitForSelectTableNumTS" style = "height: 130px; line-height: 130px;">确定</div>
		</div>
	</div>
</div>		

<div id = "divShowMessageForTableSelect" class="content-box-base">
	<div id = "divTopForShowMessageTS">
		<span style = "color: white;"><strong>请输入桌号及人数</strong></span>
	</div>
	<div id = "divCenterForShowMessageTS" class = "box-horizontal">
		<div id = "divLeftForShowMessageTS" >
			<span style = "font-size: 22px; font-weight: bold;">桌号：</span>
			<input type = "text" id = "txtTableNumForSM" class = "desk-number" onclick = 'ts.selectInput({renderTo: this.id})'/>
			<span style = "font-size: 22px; font-weight: bold;">人数：</span>
			<input type = "text" id = "txtPeopleNumForSM" class = "desk-number" onclick = 'ts.selectInput({renderTo: this.id})'/>
		</div>
		<div id = "divRightForShowMessageTS">
			<div class="button-base" onclick = "ts.selectingTxt({renderTo : 'txtTableNumForSM'})">选中</div>
			<div class="button-base" onclick = "inputNum(this)">7</div>
			<div class="button-base" onclick = "inputNum(this)">8</div>
			<div class="button-base" onclick = "inputNum(this)">9</div>
			<div class="button-base" onclick = "ts.selectingTxt({renderTo : 'txtPeopleNumForSM'})">选中</div>
			<div class="button-base" onclick = "inputNum(this)">4</div>
			<div class="button-base" onclick = "inputNum(this)">5</div>
			<div class="button-base" onclick = "inputNum(this)">6</div>
			<div class="button-base" onclick = "inputNum(this)">0</div>
			<div class="button-base" onclick = "inputNum(this)">1</div>
			<div class="button-base" onclick = "inputNum(this)">2</div>
			<div class="button-base" onclick = "inputNum(this)">3</div>
		</div>
	</div>
	<div id = "divBottomForShowMessageTS">
		<div class="button-base" id = "btnRenderToCreateOrder" style = "width: 100px; margin-left: 130px;">点菜</div>
		<div class="button-base" id = "btnCancelForShowMessageTS" style = "width: 100px; margin-left: 65px;">返回</div>
	</div>
</div>	

<div id = "divTransTableForTableSelect">
	<div id = "divTopForTransTableTS">
		<span style = "color: white;"><strong>请输入转台所需要的桌号：</strong></span>
	</div>
	<div id = "divCenterForTransTableTS" class = "box-horizontal">
		<div id = "divLeftForTransTableTS" >
			<span style = "font-size: 20px; font-weight: bold; padding-right: 0; color: #FFF;">桌号：</span>
			<input type = "text" id = "txtOldTableForTS" class = "desk-number" onclick = 'ts.selectInput({renderTo: this.id})'/>
			<span style = "font-size: 20px; font-weight: bold; color: #FFF;">转至：</span>
			<input type = "text" id = "txtNewTableForTS" class = "desk-number" onclick = 'ts.selectInput({renderTo: this.id})'/>
		</div>
		<div id = "divRightForTransTableTS">
			<div class="button-base" onclick = "ts.selectingTxt({renderTo : 'txtOldTableForTS'})">选中</div>
			<div class="button-base" onclick = "inputNum(this)">7</div>
			<div class="button-base" onclick = "inputNum(this)">8</div>
			<div class="button-base" onclick = "inputNum(this)">9</div>
			<div class="button-base" onclick = "ts.selectingTxt({renderTo : 'txtNewTableForTS'})">选中</div>
			<div class="button-base" onclick = "inputNum(this)">4</div>
			<div class="button-base" onclick = "inputNum(this)">5</div>
			<div class="button-base" onclick = "inputNum(this)">6</div>
			<div class="button-base" onclick = "inputNum(this)">0</div>
			<div class="button-base" onclick = "inputNum(this)">1</div>
			<div class="button-base" onclick = "inputNum(this)">2</div>
			<div class="button-base" onclick = "inputNum(this)">3</div>
		</div>
	</div>
	<div id = "divBottomForTransTableTS">
		<div class="button-base" style = "width: 150px; margin-left: 100px;" onclick = "ts.tt.submit()">确定</div>
		<div class="button-base" style = "width: 150px; margin-left: 60px;" onclick = "ts.tt.back()">返回</div>
	</div>
</div>	

<div id = "divKeyboardNumForUO" class="content-box-base">
	<div id = "divTopForKeyboardNumForUO"></div>
	<div id = "divMainForKeyboardNumForUO">
		<div id = "divLeftForKeyboardNumForUO">
			<div class="button-base addOneForKeyboardNumUO" style = "margin: 0 0 0 2px;">+</div>				
			<input type = "text" id = "txtNumForUO" class = "table-number" style = "margin-left: 9px;"/>
			<div class="button-base" onclick = "inputNumUO(this)">7</div>
			<div class="button-base" onclick = "inputNumUO(this)">8</div>
			<div class="button-base" onclick = "inputNumUO(this)">9</div>
			<div class="button-base" onclick = "inputNumUO(this)">4</div>
			<div class="button-base" onclick = "inputNumUO(this)">5</div>
			<div class="button-base" onclick = "inputNumUO(this)">6</div>
			<div class="button-base" onclick = "inputNumUO(this)">1</div>
			<div class="button-base" onclick = "inputNumUO(this)">2</div>
			<div class="button-base" onclick = "inputNumUO(this)">3</div>
			<div class="button-base" id = "btnSubmitForKeyboardNumUO" style = "width: 164px;" onclick = "uo.cf.save()">确定</div>
			<div class="button-base" id = "btnCloseForKeyboardNumUO">取消</div>
		</div>
		<div id = "divRightForKeyboardNumForUO">
			<div class="button-base deleteOneForKeyboardNumUO" style = "margin: 0 0 0 2px;">-</div>
			<div class="button-base btnBackAllForKeyboardNumUO" style = "margin: 12px 0 5px 2px;">&lt;&lt;</div>
			<div class="button-base" onclick = "inputNumUO(this)">.</div>
			<div class="button-base" onclick = "inputNumUO(this)" style = "height: 130px; line-height: 130px;">0</div>
		</div>
		<div id = "divReasonForKeyboardNumForUO"></div>
	</div>
</div>

<div id = "divKeyboardPeopleForUO" class="content-box-base">
	<div id = "divTopForKeyboardPeopleForUO"></div>
	<div id = "divMainForKeyboardPeopleForUO">
		<div id = "divLeftForKeyboardPeopleForUO">
			<div class="button-base addOneForKeyboardNumUO" style = "margin: 0 0 0 2px;">+</div>
			<input type = "text" id = "txtPeopleNumForUO"  class = "table-number" style = "margin-left: 8px;"/>
			<div class="button-base" onclick = "inputNumUO(this)">7</div>
			<div class="button-base" onclick = "inputNumUO(this)">8</div>
			<div class="button-base" onclick = "inputNumUO(this)">9</div>
			<div class="button-base" onclick = "inputNumUO(this)">4</div>
			<div class="button-base" onclick = "inputNumUO(this)">5</div>
			<div class="button-base" onclick = "inputNumUO(this)">6</div>
			<div class="button-base" onclick = "inputNumUO(this)">1</div>
			<div class="button-base" onclick = "inputNumUO(this)">2</div>
			<div class="button-base" onclick = "inputNumUO(this)">3</div>
			<div class="button-base" id = "btnSubmitForPeopleKeyboardUO" class = "keyboardbutton " style = "width: 164px;">确定</div>
			<div class="button-base" id = "btnCloseForPeopleKeyboardUO" class = "keyboardbutton">取消</div>
		</div>
		<div id = "divRightForKeyboardPeopleForUO">
			<div class="button-base deleteOneForKeyboardNumUO" style = "margin: 0 0 0 2px;">-</div>
			<div class="button-base btnBackAllForKeyboardNumUO" style = "margin: 12px 0 5px 2px;">&lt;&lt;</div>
			<div class="button-base" onclick = "inputNumUO(this)">00</div>
			<div class="button-base" onclick = "inputNumUO(this)" style = "height: 130px;">0</div>
		</div>
	</div>
</div>

<div id="divOperateBoxForFoodTaste" class="content-box-base">
	<div class="box-horizontal" style="height: 473px;">
		<div class="box-vertical" style="width: 330px;">
			<div class="button-base" style="width: 100%; line-height: 60px; height: 60px;">已选口味</div>
			<div id="divCFOTHasTasteContent" style="width: 100%; -webkit-box-flex: 1; overflow-y: auto;"></div>
		</div>
		<div id="divCenterForOperateTaste" class="box-vertical" style="width: 310px; border-left: 1px solid #FFF;">
			<div id="divCFOTTasteChange" class="box-horizontal" style="line-height: 60px;">
				<div id="divButtonForCommonTaste" class="button-base" style="width: 103px;" onClick="co.ot.changeTaste({type:parseInt(this.getAttribute('data-value'))})" data-value=1>常用口味</div>
				<div id="divButtonForAllTaste" class="button-base" style="width: 100px; margin: 0 1px 0 1px;" onClick="co.ot.changeTaste({type:parseInt(this.getAttribute('data-value'))})" data-value=2>所有口味</div>
				<div id="divButtonForGuiGeTaste" class="button-base" style="width: 103px;" onClick="co.ot.changeTaste({type:parseInt(this.getAttribute('data-value'))})" data-value=3>规格</div>
			</div>
			<div id="divCFOTTasteSelectContent" style="-webkit-box-flex: 1;"></div>
		</div>
	</div>
	<div class="box-horizontal" style=" border-bottom: 1px solid #FFF; border-top: 1px solid #FFF; line-height: 25px; background: #FFD700;">
  		<div id="divDescForOperateTaste-padding-msg" style="-webkit-box-flex: 1; text-align: right; font-weight: bold;">&nbsp;</div>
  	</div>
	<div id="divSouthForOperateTaste" class="box-horizontal" style="">
		<div class="button-base" style="margin-right: 2px;" onClick="co.ot.back()">返回</div>
		<div class="div-full">&nbsp;</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.ot.save()">确定</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.ot.tp.getFirstPage()">首页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.ot.tp.getPreviousPage()">上一页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.ot.tp.getNextPage()">下一页</div>
  		<div class="button-base" style="margin-left: 2px;" onClick="co.ot.tp.getLastPage()">尾页</div>
	</div>
</div>

</body>
</html>