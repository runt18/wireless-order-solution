<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>无线点餐网页终端</title>

<link rel="stylesheet" type="text/css" href="../../extjs/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="../../css/myExt.css" />
<link rel="stylesheet" type="text/css" href="../../extjs/ext-patch.css" />
<script type="text/javascript" src="../../extjs/ext-base.js"></script>
<script type="text/javascript" src="../../extjs/ext-all.js"></script>
<script type="text/javascript" src="../../js/common/Ext.ux.js"></script>
<script type="text/javascript" src="../../js/common/Ext.ux.check.js"></script>

<!-- 解决Grid不能选择复制问题 -->
<script type="text/javascript" src="../../extjs/ext-lang-zh_CN.js"></script>

<!-- 实现多选JS -->
<script type="text/javascript" src="../../extjs/multiselect/DDView.js"></script>
<script type="text/javascript"
	src="../../extjs/multiselect/MultiSelect.js"></script>
<script type="text/javascript"
	src="../../extjs/multiselect/ItemSelector.js"></script>
<link rel="stylesheet" type="text/css"
	href="../../extjs/multiselect/multiselect.css" />

<link rel="stylesheet" type="text/css" href="../../css/header.css" />
<link rel="stylesheet" type="text/css" href="../../css/tableStatus.css" />

<script type="text/javascript" src="../../js/components/functionLib.js"></script>

<script type="text/javascript">
	Ext.onReady(function() {
		Ext.BLANK_IMAGE_URL = "../../extjs/resources/images/default/s.gif";
	});
	var Request = new URLParaQuery();
	var pin = Request["pin"];
	var restaurantID = Request["restaurantID"];
	var category = Request["category"];
	var tableID = Request["tableID"];
	var orderID = Request["orderID"];
	var orderMsg = {}, checkOutData = {totalProperty:0,root:[]}, discountPlanData = {root:{}}, cancelFoodDetailData = {};
	var gridHeightOffset = 100; 
	var checkOutDataDisplay = {totalProperty:0,root:[]};
	var discountData = [], dishTasteData = [], pricePlanData = [], restaurantData = [];
	var discountType = 1,payType = 1, actualMemberID = -1, mBalance = -1, originalTotalCount = -1;
	var operatorName = "XXX";
	var calcDiscountID, calcPricePlanID;
	
	var checkOutGrid, checkOutStore, checkOutColumnModel;
	var tableGroupTab;
</script>

<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutLoad.js"></script>
<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutTypeChoose.js"></script>
<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutPay.js"></script>
<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutMain.js"></script>

</head>
<body onload="checkOutOnLoad()">
	<script type="text/javascript" src="../../extjs/examples.js"></script>

	<div id="west"></div>
	<div id="north">
		<p>icons here.</p>
	</div>
	<div id="south"></div>
	<div id="west"></div>
	<div id="center"></div>
	<div id="temp">
		<p>建设中......</p>
	</div>


	<!-- table status -->
	<div id="tableStatusCO" style="padding-left: 5px">
		<img title="桌号" src="../../images/TableID.png" style="float: left;" />
		<div id="tblNbrDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="人数" src="../../images/DinnerAmount.png" style="float: left;" />
		<div id="perCountDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="最低消费" id="minCostImgTS" src="../../images/minCost.png" style="float: left;" />
		<div id="minCostDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="服务费率" id="serviceRateImgTS" src="../../images/serviceRate.png" style="float: left;" />
		<div id="serviceRateDivTS" class="tableStatusChar">&nbsp;</div>
	</div>


	<!-- member infomation -->
	<div id="memberInfo" style="padding-left: 5px">
		<img title="会员号" src="../../images/MemberID.png" style="float: left;" />
		<div id="memberNbr" class="tableStatusChar">&nbsp;</div>
		<img title="姓名" src="../../images/MemberName.png" style="float: left;" />
		<div id="memberName" class="tableStatusChar">&nbsp;</div>
		<img title="电话" src="../../images/MemberTele.png.png"
			style="float: left;" />
		<div id="memberPhone" class="tableStatusChar">&nbsp;</div>
		<img title="会员卡余额" src="../../images/MemberBalance.png"
			style="float: left;" />
		<div id="memberBalance" class="tableStatusChar">&nbsp;</div>
	</div>

	<!-- pay infomation -->
	<div id="payInfo" class="billList" style="text-align:left;">
		<table>
			<tr>
				<td>服务费：</td>
				<td>
					<input id="serviceCharge" type="text" value="0" style="width: 50px;"></input>
				</td>
				<td>%</td>
				<td style="width: 60px;">&nbsp;</td>
				<td>应收：￥</td>
				<td><div id="totalCount"></div></td>
				<td style="width: 60px;">&nbsp;</td>
				<td>赠送：￥</td>
				<td><div id="forFree"></div></td>
				<td style="width: 60px;">&nbsp;</td>
				<td colspan="4">
					<div id="div_showEraseQuota" style="display: none;">
						抹数金额：￥
						<input id="txtEraseQuota" type="text" value="0" style="width: 50px;" />
						<span id="span_showEraseQuota">
							上限:￥<font id="font_showEraseQuota" style="color:red;"></font>
						</span>
					</div>
				</td>
			</tr>
			<tr>
				<td>收款：￥</td>
				<td><input id="actualCount" type="text" style="width: 50px;"></input></td>
				<td>&nbsp;&nbsp;&nbsp;</td>
				<td style="width: 60px;">&nbsp;</td>
				<td>实收：￥</td>
				<td><div id="shouldPay"></div></td>
				<td style="width: 60px;">&nbsp;</td>
				<td>找零：￥</td>
				<td><div id="change"></div></td>
				<td style="width: 60px;">&nbsp;</td>
				<td>退菜金额：￥</td>
				<td><span id="spanCancelFoodAmount"></span><span id="spanSeeCancelFoodAmount" style="visibility:hidden;">&nbsp;<a href="javascript:showCancelFoodDetail()" >查看</a></span></td>
				<td style="width: 60px;">&nbsp;</td>
				<td>
					<input type="button" value="计算" style="width: 80px;" onclick="calcCheckOutFn()"></input>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>