<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>无线点餐网页终端</title>

<link rel="stylesheet" type="text/css" href="../../extjs/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="../../css/myExt.css" />
<link rel="stylesheet" type="text/css" href="../../extjs/ext-patch.css" />

<style type="text/css">
.payOrderButton{
	font-size:30px;cursor: pointer;padding: 3px auto;width: 150px;
}
.renderStyle{
	font-size:30px;
}
</style>
<script type="text/javascript" src="../../extjs/ext-base.js"></script>
<script type="text/javascript" src="../../extjs/ext-all.js"></script>
<script type="text/javascript" src="../../js/common/Ext.ux.js"></script>
<script type="text/javascript" src="../../js/common/Ext.ux.check.js"></script>

<script type="text/javascript" src="../../jquery/jquery-1.8.2.min.js"></script>

<script type="text/javascript" src="../../extjs/ext-lang-zh_CN.js"></script>
<link rel="stylesheet" type="text/css" href="../../css/header.css" />
<script type="text/javascript" src="../../js/components/Encrypt.js"></script>
<script type="text/javascript" src="../../js/components/functionLib.js"></script>

<script type="text/javascript">
	var Request = new URLParaQuery();
	var category = Request["category"];
	var tableID = Request["tableID"];
	var orderID = Request["orderID"];
	var orderMsg = {}, checkOutData = {totalProperty:0,root:[]}, discountPlanData = {root:{}}, cancelFoodDetailData = {};
	var gridHeightOffset = 105; 
	var checkOutDataDisplay = {totalProperty:0,root:[]};
	var discountData = [], dishTasteData = [], pricePlanData = [], restaurantData = [];
	var discountType = 1, payType = 1, actualMemberID = -1, mBalance = -1, originalTotalCount = -1;
	var calcDiscountID, calcPricePlanID, tempCalcDiscountID;
	
	var checkOutGrid, checkOutStore, checkOutColumnModel;
	var tableGroupTab;
	
	var timerCheckParams;
	var isPaying = false;
	var checkOut_actualPrice ;
	//输入收款窗口
	var inputReciptWin;
</script>

<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutLoad.js"></script>
<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutPay.js"></script>
<script type="text/javascript"
	src="../../js/FrontBusiness/checkOut/checkOutMain.js"></script>

</head>
<body onload="checkOutOnLoad()">
	<script type="text/javascript" src="../../extjs/examples.js"></script>
	
	<!-- table status -->
	<div id="tableStatusCO" style="padding-left: 5px">
		<img title="桌号" src="../../images/TableID.png" style="float: left;" />
		<div id="tblNbrDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="人数" src="../../images/DinnerAmount.png" style="float: left;" />
		<div id="perCountDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="最低消费" id="minCostImgTS" src="../../images/minCost.png" style="float: left;" />
		<div id="minCostDivTS" class="tableStatusChar">&nbsp;</div>
		<img title="服务费率" id="serviceRateImgTS" src="../../images/serviceRate.png" style="float: left;" />
		<div id="serviceRateDivTS" class="tableStatusChar">&nbsp;</div>
	</div>
	
	<!-- pay infomation -->
<!-- 	<div id="payInfo" class="billList" style="text-align:left;">
		<table>
			<tr>
				<td rowspan="2" style="font-size:30px;">实收：￥<span id="aashouldPay" style="color:green; font-weight: bold;"></span></td>
				<td>应收：￥<span id="totalCount"></span></td>
				<td style="width: 10px;">&nbsp;</td>
				<td>赠送：￥<span id="forFree"></span></td>
				<td style="width: 10px;">&nbsp;</td>
				<td>退菜金额：￥</td>
				<td><span id="spanCancelFoodAmount"></span><span id="spanSeeCancelFoodAmount" style="visibility:hidden;">&nbsp;<a href="javascript:showCancelFoodDetail()" >查看</a></span></td>
				<td style="width: 10px;">&nbsp;</td>
				<td colspan="4">
					<div id="div_showEraseQuota" style="display: none;">
						抹数金额：￥
						<span id="aspanHasEraseQuota"><input id="txtEraseQuota" type="text" value="0" style="width: 50px;" /></span>
						<span id="span_showEraseQuota">
							上限:￥<font id="font_showEraseQuota" style="color:red;"></font>
						</span>
					</div>
				</td>
				<td style="width: 10px;height : 55px;">&nbsp;</td>
				<td >
					<input type="button" value="计算" style="width: 80px;" onclick="refreshCheckOutData()"></input>
					<input type="button" value="会员" class="payOrderButton" onclick="memberPay()"></input>
				</td>
				<td style="width: 10px;">&nbsp;</td>
				<td >
					<input type="button" value="现金(+)" class="payOrderButton" onclick="fnRemberIsFastOrInput()"></input>
					<input id="chkCalcReturn" type="checkbox" />计算找零
				</td>				
			</tr>
			<tr>
				<td colspan="11" >备注:<input id="remark" type="text"  style="width: 80%;height: 30px;font-size: 18px;" /></td>
				<td style="width: 10px;height : 40px;">&nbsp;</td>
				<td >
					<input type="button" value="刷卡" class="payOrderButton" onclick="paySubmit(2)"></input>
				</td>
				<td style="width: 10px;">&nbsp;</td>
				<td >
					<input type="button" value="暂结" class="payOrderButton" onclick="paySubmit(6)"></input>
				</td>			
			</tr>
		</table>
	</div> -->
	
	<div id="divWestPayOrderGeneral">
		<table style="width: 100%">
			<tr>
				<td colspan="3" style="font-size:35px;">实收：￥<span id="shouldPay" style="color:green; font-weight: bold;"></span></td>
			</tr>
			<tr>
				<td colspan="3" style="font-size:35px;">应收：￥<span id="totalCount"></span></td>
				
			</tr>
			<tr>
				<td colspan="3" style="font-size:35px;">赠送：￥<span id="forFree"></span></td>
			</tr>
			<tr>
				<td colspan="3" style="font-size:35px;">折扣：￥<span id="discountPrice"></span></td>
				
			</tr>			
			<tr>
				<td colspan="3" style="font-size:35px;height: 50px;">退菜：￥<span id="spanCancelFoodAmount"></span><span id="spanSeeCancelFoodAmount" style="visibility:hidden;">&nbsp;<a href="javascript:showCancelFoodDetail()" ><font style="font-size:25px;">查看</font></a></span></td>
				
			</tr>
			<tr>
				<td colspan="3" style="font-size:20px;height: 50px;">
					<div id="div_showEraseQuota" style="display: none;">
						抹数金额：￥
						<span id="spanHasEraseQuota"><!-- <input id="txtEraseQuota" type="text" value="0" style="width: 50px;" /> --></span>
						<span id="span_showEraseQuota">
							上限:￥<font id="font_showEraseQuota" style="color:red;"></font>
						</span>
					</div>
				</td>			
			</tr>
			<tr>
				<td colspan="3" style="font-size:20px;height: 50px;">备注:<input id="remark" type="text"  style="width: 80%;height: 30px;font-size: 18px;" /></td>
			</tr>
			<tr style="height: 70px;">

				<td align="center" style="padding-top: 15px;">
					<input type="button" value="现金(+)" class="payOrderButton" onclick="fnRemberIsFastOrInput()"></input><br>
					<input id="chkCalcReturn" type="checkbox" />计算找零
				</td>	
				<td align="center">
					<!-- <input type="button" value="计算" style="width: 80px;" onclick="refreshCheckOutData()"></input> -->
					<input type="button" value="会员" class="payOrderButton" onclick="memberPay()"></input>
				</td>						
			</tr>
			<tr style="height: 70px;">
				
				<td align="center">
					<input type="button" value="刷卡" class="payOrderButton" onclick="paySubmit(2)"></input>
				</td>
				<td align="center">
					<input type="button" value="暂结(-)" class="payOrderButton" onclick="paySubmit(6)"></input>
				</td>					
			</tr>			
			<tr style="height: 70px;">
				<td align="center">
					<input type="button" value="签单" class="payOrderButton" onclick="paySubmit(4)"></input>
				</td>
				<td align="center">
					<input type="button" value="挂账"  class="payOrderButton"  onclick="paySubmit(5)"></input>
				</td>				
			</tr>
		</table>
	</div>
	
</body>
</html>