<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1">
<title>会员中心</title>

<style>

.box {
	/* position:relative;  */
	float :left;
	margin-left : 10px;
	margin-top : 5px;
	line-height : 15px;
	border:solid 5px #fff;
	width:112px;
	height:145px;
	/* margin:0 auto; */
	/* border-radius: 255px 15px 225px 15px/15px 225px 15px 255px; */
	border:1px solid;
	border-radius:8px;	
	padding:2px;
	color:#666;
	box-shadow:2px 3px 1px rgba(0, 0, 0, .75)
}
.box_in {
	/* position:relative; */
	float :left;
	background:#fff;
	border:solid 5px #fff;
	width:112px;
	height:145px;
	/* margin:0 auto; */
	border-radius: 255px 15px 225px 15px/15px 225px 15px 255px;
	padding:2px;
	color:#666;
	box-shadow:2px 3px 1px rgba(0, 0, 0, .75)
}
.box .box_in {
/* 	position:absolute; */
	top:5px;
	left:5px;
	width:100px;
	height:100px;
	border-color:#593207;
	box-shadow:none;
}
.box span{
	margin-left: 5px;font-size: 10px;
	font-family:microsoft yahei, Arial, Helvetica, sans-serif;
}

.box_in img{
	width : 100px;height : 100px;
}


.a_demo_two {
    background-color:#6fba26;
    padding:5px 70px 5px;
    position:relative;
    font-family: 'Open Sans', sans-serif;
    font-size:12px;
    text-decoration:none;
    color:#fff;
    background-image: linear-gradient(bottom, rgb(100,170,30) 0%, rgb(129,212,51) 100%);
    box-shadow: inset 0px 1px 0px #2ab7ec, 0px 3px 0px 0px #156785, 0px 4px 4px #999;
    border-radius: 5px;
}
 
.a_demo_two:active {
    top:4px;
    background-image: linear-gradient(bottom, rgb(100,170,30) 100%, rgb(129,212,51) 0%);
    box-shadow: inset 0px 1px 0px #2ab7ec, 0px 2px 0px 0px #156785, 0px 5px 3px #999;
    color: #156785;
    text-shadow: 0px 1px 1px rgba(255,255,255,0.3);
    background: rgb(44,160,202);
}
.a_demo_two:before {
    background-color:#072239 ;
    content:"";
    display:block; 
    position:absolute;
    width:100%;
    height:100%;
    padding-left:2px;
    padding-right:2px;
    padding-bottom:4px;
    left:-2px;
     z-index:-1;
}

.a_demo_twos {
    background-color:#6fba26;
    padding:5px 15px 5px;
    position:relative;
    font-family: 'Open Sans', sans-serif;
    font-size:12px;
    text-decoration:none;
    color:#fff;
    background-image: linear-gradient(bottom, rgb(100,170,30) 0%, rgb(129,212,51) 100%);
    box-shadow: inset 0px 1px 0px #2ab7ec, 0px 3px 0px 0px #156785, 0px 4px 4px #999;
    border-radius: 5px;
}
 
.a_demo_twos:active {
    top:4px;
    background-image: linear-gradient(bottom, rgb(100,170,30) 100%, rgb(129,212,51) 0%);
    box-shadow: inset 0px 1px 0px #2ab7ec, 0px 2px 0px 0px #156785, 0px 5px 3px #999;
    color: #156785;
    text-shadow: 0px 1px 1px rgba(255,255,255,0.3);
    background: rgb(44,160,202);
}
.a_demo_twos:before {
    background-color:#072239 ;
    content:"";
    display:block; 
    position:absolute;
    width:100%;
    height:100%;
    padding-left:2px;
    padding-right:2px;
    padding-bottom:4px;
    left:-2px;
     z-index:-1;
}
 
/* .a_demo_two:active::before {
    top:-2px;
} */

#ulMemberPrivilegeDetail{
	margin-left: 25px;
}
#ulMemberPrivilegeDetail li{
	list-style:disc !important;
	font-family:  'Microsoft YaHei';
	color : maroon ;
	font-weight : bold;
	font-size: 20px;
	font-style: italic;
}

.memberTypeBaseDesc{
	color:maroon;
	font-size: 14px;
}

</style>
<link rel="stylesheet" href="./css/base.css">
<link rel="stylesheet" href="./css/member.css">
<link type="text/css" rel="stylesheet" href="./css/mbar.css">
<link type="text/css" rel="stylesheet" href="./css/general_foundicons.css">
<script type="text/javascript" src="../../jquery/jquery-1.8.2.min.js"></script>

<script type='text/javascript' src='../../jquery/highcharts.js'></script>
<script type="text/javascript" src="./js/Util.js"></script>
<script type="text/javascript">
var member = {}, verifyCode = {}, verifyMobile = '', currentMemberLevelData={}, memberLevelData=[];
var params = {
	MobileCode : {
		code : /^1[3,5,8][0-9]{9}$/,
		text : '请输入 11 位纯数字的有效手机号码.'
	},
	UserNameCode : {
		code : /^([^x00-xff]{2,16})|([a-zA-z][a-zA-z0-9]{3,17})$/,
		text : '请输入至少两个中文字或<br>字母开头4至18位的会员名称.'
	},
	VerifyCode : {
		code : /^[0-9]{4}$/,
		text : '请输入 4 位纯数字验证码.'
	}
};
var colors = ['orange', 'red', 'green'];

var totalMath = 0;
</script>
<script type="text/javascript" src="./js/member/load.js"></script>
<script type="text/javascript" src="./js/member/main.js"></script>
</head>
<body>

<div id="divMemberCard" class="main-box">
<div data-type="r">
	<!-- <div id="divRestaurantName" data-type="top">--</div> -->
	<div id="divWXMemberCard" data-type="bottom">微信卡号:1000000</div>
	<div id="divMemberTypeName" data-type="bottom">未激活</div>
</div>
</div>

<div id="divMemberContent" class="main-box">

<ul class="m-b-list">
	<!-- <li class="box-horizontal" onclick="Util.skip('member_data_dateil.html')"> -->
	<li class="box-horizontal">
		<div style="width:45%">会员名: <span id="spanMemberName">--</span></div>
		<div>手机号: <span id="spanMemberMobile">--</span></div>
	</li>
<!-- 	<li class="box-horizontal">
		<div>手机号: <span id="spanMemberMobile">--</span></div>
		<div class="event"><a onclick="Util.dialog.show({ msg : '重新绑定手机号需要到前台办理.' })">重新绑定</a>&nbsp;&gt;</div>
	</li> -->
</ul>
</div>

<div id="divMemberBalanceAndPiont" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal none-line" >
		<div style="width:45%">余&nbsp;&nbsp;额: <span id="spanMemberTotalBalance" style="color:#26a9d0;">--.--</span>&nbsp;元</div>
		<div >积&nbsp;&nbsp;分: <span id="spanMemberPoint" style="color:#FF4500;">--.--</span>&nbsp;分</div>
	</li>
</ul>
</div>

<div id="divMemberPointContent" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal none-line" onclick="toggleConsumeDetails()">
		<div >最近消费: <span id="spanNearByCost" style="color:#FF4500;">0</span>&nbsp;元</div>
		<div class="event">消费记录&nbsp;&gt;</div>
	</li>
	<li>
		<div id="divConsumeDetails" style="display:none; width:97%;border:groove 3px Gainsboro;border-radius:5px;margin-bottom: 5px;	">
			<table id="table_consumeDetails" class="d-list" >
				<thead>
				<tr class="d-list-title">
					<td style="width:50%;text-align: center;">消费时间</td>
					<td style="width:25%;">金额</td>
					<td style="width:25%;">积分</td>
				</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</li>
</ul>
</div>

<div id="divMemberBalanceContent" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal none-line" onclick="toggleRechargeDetails()">
		<div >最近充值: <span id="spanNearByCharge" style="color:#FF4500;">0</span>&nbsp;元</div>
		<div class="event">充值记录&nbsp;&gt;</div>
	</li>
	<li>
		<div id="divRechargeDetails" style="display:none;width:97%;border:groove 3px Gainsboro;border-radius:5px;margin-bottom: 5px;">
			<table class="d-list">
				<thead>
				<tr class="d-list-title">
					<td style="width:50%;text-align: center;">充值时间</td>
					<td style="width:25%;">实收</td>
					<td style="width:25%;">实充</td>
				</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</li>
</ul>
</div>

<div id="divMemberTypeContent" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal">
		<div >等&nbsp;&nbsp;级: <span id="spanMemberTypeName" >--.--</span>&nbsp;<font id="fontMemberDiscount" style="color : red;font-size: 13px;font-weight: bold;">8.8折扣</font></div>
		<!-- <div class="event">完善资料&nbsp;&gt;</div> -->
		
	</li>
	<li class="box-horizontal none-line" onclick="toggleMemberLevel()">
		<div style="font-size: 13px;font-weight: bold;">累计积分:<font id="fontMemberPoint" style="color : red;">0</font>分<span id="span_currentMemberDefeat">,打败了<font id="fontDefeatMemberCount" style="color : red;">0</font><font style="color : red;">%</font>的会员</span></div>
		<div class="event">更多等级&nbsp;&gt;</div>
	</li>
	<li style="overflow: hidden;"><div></div>
		<div id="divMemberLevelChart" style="height: 320px;display:none;"></div>
		<!-- <div id="divMemberTypeDesc" style="display:none;"> </div>-->
		
	</li>
</ul>
</div>

<div id="divCurrentMemberTypeDesc" class="main-box">
	<div style="margin: 10px;">
		<span>会员特权:</span>
		<span id="spanCurrentMemberTypeDesc" style="font-size: 15px;color:maroon"></span>
	</div> 
</div>

<div id="divMemberCouponContent" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal none-line" onclick="toggleCouponContent()">
		<div>我的优惠券</div>
		<div id="divMyCoupon" class="event">&nbsp;<font>&gt;</font></div>
	</li>
	<li>
		<div id="divMemberCouponContentView" style="display:none; width:100%;" >
		<div id="divMemberCouponContentViews">
	<!-- 		<div class="box">
				<div class="box_in">
					<img src="images/wugu.jpg">
				</div>
				
				<span>优惠一只鸡</span><br>
				<span>到期 : 2014-07-09</span>
			</div>
			
			<div class="box">
				<div class="box_in">
					<img src="images/donggu.jpg">
				</div>
				
				<span>优惠一只鸭</span><br>
				<span>到期 : 2014-07-09</span>
			</div>
			<div class="box">
				<div class="box_in">
					<img src="images/QQ20140326103344.jpg">
				</div>
				
				<span>优惠一只鹅</span><br>
				<span>到期 : 2014-07-09</span>
			</div> -->
		</div>	
		<!-- <div style="color:#595959;" onclick="toggleCouponContent.load()">提示:显示现有优惠券.<span style="color:#898989;">点击刷新</span></div> -->
		</div>
	</li>
</ul>
</div>

<div id="divMemberCouponConsume" class="main-box">
<ul class="m-b-list">
	<li class="box-horizontal none-line" onclick="toggleCouponConsumeDetails()">
		<div>优惠券消费记录</div>
		<div class="event">&nbsp;&gt;</div>
	</li>
	<li>
		<div id="divMemberCouponConsumeDetails" style="display:none; width:100%; ">
		
		<table class="d-list">
			<thead>
			<tr class="d-list-title">
				<td style="width:50%;">日期</td>
				<td style="width:25%;">消费金额</td>
				<td style="width:25%;">优惠金额</td>
			</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<div style="color:#595959;" onclick="toggleCouponConsumeDetails.load()">提示:显示近5条优惠券使用记录.<span style="color:#898989;">点击刷新</span></div>
		</div>
	</li>
</ul>
</div>

<div>
	
</div>

<div id="divMemberPrivilegeDetail" class="main-box" style="margin-top: 10px;padding-top: 5px;padding-bottom: 5px;display: none;">
	<span style="margin-left: 5px;font-size: 19px;">激活成为微信会员，可享受:</span>
	<ul id="ulMemberPrivilegeDetail" ></ul>
</div>

<div id="divVerifyAndBind" class="main-box" style="margin-top: 10px;">
<ul class="m-b-list" >
	<li class="box-horizontal" >
		<!-- <div style="line-height: 55px;" onclick="javascript:$('#ulVerifyAndBind').hide();">激活后可享受更多优惠</div> -->
		<div id="btn_activate" style="margin-top: 3px;height: 55px;width: 100%;text-align: center;" >
			<a class="a_demo_two" style="font-size: 20px;font-weight: bold;" onclick="showMemberBind()">激活</a>	
		
		</div>
	</li>
	<li id="ulVerifyAndBind" style="display: none;">
	<ul class="m-b-list">
		<li class="none-line" style="line-height: 50px;padding-top: 10px;">
			手机号: <input id="txtVerifyMobile" type="number" maxlength="11"/>
		</li>
		<li class="none-line" style="line-height: 50px;">
			<div style="width:100%;">
				验证码: <input id="txtVerifyCode" type="number" maxlength="4" style="width:80px;"/>&nbsp;&nbsp;&nbsp;
				<span id="btnVerifyCode" style="color: blue;font-size: 14px;" ></span>
<!-- 				<input id="btnGetVerifyCode" type="button" value="获取验证码" onClick="getVerifyCode({event:this})">
				<input id="btnBindMember" type="button" value="确认绑定"  style="display: none;"  onClick="bindMember({event:this})"> -->
			</div>
		<li class="none-line">
			<div id="btnGetVerifyCode" style="height: 55px;width: 100%;text-align: center;" >
				<a class="a_demo_two" style="font-size: 20px;font-weight: bold;" onclick="getVerifyCode({event:this})">获取验证码</a>	
			
			</div>	
			<div id="btnBindMember" style="margin-top: 3px;height: 55px;width: 100%;text-align: center;display: none;" >
				<a class="a_demo_two" style="font-size: 20px;font-weight: bold;" onclick="bindMember({event:this})">确认绑定</a>	
			
			</div>							
		</li>
	</ul>
	</li>
	<li class="box-horizontal" >
		<span style="margin-left: 5px;font-size: 19px;">注: 可到前台激活或绑定现有会员卡</span>
	</li>		
</ul>
</div>

<div id="divResetMobile" class="main-box">
<ul class="m-b-list">
	<li class="none-line title">重新绑定手机号码</li>
	<li class="none-line" style="line-height: 50px;">
		新号码: <input id="txtVerifyMobileByReset" type="text" maxlength="11"/>
	</li>
	<li class="none-line" style="line-height: 50px;">
		验证码: <input id="txtVerifyCodeByReset" type="number" maxlength="4" style="width:80px;"/>
		<!-- <button id="btnVerifyCodeByReset" onClick="getVerifyCodeByReset({event:this})">点击获取验证码</button> -->
		<a href="#" onClick="getVerifyCodeByReset({event:this})">点击获取验证码</a>
	</li>
	<li style="text-align: center;">
		<input id="btnBindMemberByReset" type="button" value="确认绑定" disabled onClick="bindMemberByReset({event:this})">
	</li>
</ul>
</div>


<div id="divInsertBefore"></div>
<div id="divOccupyHtml" style="height :400px;"></div>
<div class="footer">&copy; 2014 技术支持：智易科技</div>
<div style="height: 45px;">&nbsp;</div>
 
</body>
</html>